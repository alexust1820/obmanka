version: '3'
services:
	MediaWiki:
		container name: wiki
		image: mediawiki
		restart: always
		ports:
			- 8080:80
		links:
			- database
		volumes:
			- images:/var/www/html/images
			- ./LocalSettings.php:/var/www/html/LocalSettings.php
	database:
		container name: db
		image: mysql
		restart: always
		environment:
			MYSQL DATABASE: mediawiki
			MYSQL USER: wiki
			MYSQL PASSWORD: DEP@ssword
			MYSQL RANDOM ROOT PASSWORD: 'yes'
		volumes:
			- dbvolume:/var/lib/mysql
volumes:
	images:
	dbvolume:
		external: true